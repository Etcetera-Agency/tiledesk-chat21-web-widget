
<!-- tabindex="2000"-->
<div #homeComponent id='chat21-home-component' tabindex="2002" onFocus="document.querySelector('[aflistconv]').focus()">

    <!-- HEADER -->
    <div class="c21-header" (click)="hideMenuOptions()" [ngStyle]="{'color': g.themeForegroundColor, 'background-image': g.colorGradient }" >

        <div class="c21-header-container">
            <!-- ICON CLOSE CHAT -->
            <div class="c21-header-button" [ngStyle]="{'display': (g.hideHeaderCloseButton)?'none':'block'}">
                <div class="c21-close-button">
                    <button tabindex="2001" aria-label="    chiudi chat" class="c21-close-button-body" (click)="f21_close()">
                        <svg role="img" aria-labelledby="altIconTitle" [ngStyle]="{'fill': g.themeForegroundColor }" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24">
                            <path fill="none" d="M0 0h24v24H0V0z"/>
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>
                            <title id="altIconTitle">{{translationMapHeader?.get('BUTTON_CLOSE_TO_ICON')}}</title>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- CONTENT HEADER -->
            <div class="c21-header-content">
                <!-- LOGO HEADER -->
                <div *ngIf="g.project.logoChat !== 'nologo'" class='avatar-project' item-start>
                    <!-- <div *ngIf="g.project.logoChat == 'tiledesklogo'" #avatarPlaceholder class="avatar-placeholder" [style.background-color]="g.project.color" [innerHTML]="g.project.avatar"></div>
                    <div *ngIf="g.project.logoChat !== 'tiledesklogo'" #avatarImage class="avatar-image" [style.background-image]="'url(' + g.project.logoChat + ')'"></div> -->
                    <div #avatarImage class="avatar-image" [style.background-image]="'url(' + g.project.logoChat + ')'"></div>
                </div>

                <!-- MESSAGE HEADER -->
                <div class="c21-text fade-in-bottom">
                    <div class="c21-text-welcome">{{g?.welcomeTitle}}</div>          
                    <div *ngIf="g.welcomeMsg" class="c21-text-intro">{{g.welcomeMsg}}</div>
                </div>
            </div>
        </div>

    </div>
    


    <!-- CONTENT -->
    <div class="c21-body" (click)="hideMenuOptions()">

        <!-- <div class="c21-body-container"> -->
            <div class="c21-body-content" [class.nologo]="g.project.logoChat === 'nologo'">
                <div class="c21-cards">
                    <div class="c21-card-blank fade-in-top"></div>
                    <div class="c21-card fade-in-top ">
                        <chat-home-conversations 
                            [listConversations]="listConversations"
                            [archivedConversations]="archivedConversations"
                            [hideNewConversationButton]="hideNewConversationButton"
                            [stylesMap]="stylesMap"
                            (onNewConversation)="onNewConversationFN()" 
                            (onConversationSelected)="onConversationSelectedFN($event)"
                            (onOpenAllConvesations)="onOpenAllConversation()"
                            (onImageLoaded)="onImageLoadedFN($event)"
                            (onConversationLoaded)="onConversationLoadedFN($event)">
                        </chat-home-conversations>
                    </div>
                </div>
            </div>
        <!-- </div> -->
        

    </div>

    <!-- FOOTER - CONTENT -->
    <div class="c21-footer-content fade-in-bottom-footer" *ngIf="g?.whatsappNumber && g?.whatsappNumber.trim() !== ''">
        <div id="c21-whatsapp">
            <button tabindex="1040" aflistconv #aflistconv class="c21-button-primary" (click)="openNewConversationOnWhatsapp()">
                <span class="v-align-center c21-label-button">
                    <!-- {{LABEL_START_NW_CONV}} -->
                    {{translationMapFooter?.get('LABEL_WHATSAPP')}}
                </span>
                <span class="v-align-center">
                    <!-- <svg [ngStyle]="{'fill': 'yellow' }" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                      <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"  [ngStyle]="{'fill': g.themeForegroundColor}"/>
                    </svg> -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20">
                        <path fill="white" d="M13.76,11.4s-1.24-.61-1.46-.69a.88.88,0,0,0-.28-.06.49.49,0,0,0-.41.24c-.12.18-.49.61-.6.74l0,0-.25-.1A6.5,6.5,0,0,1,8.28,9.41a.1.1,0,0,1,0-.05l.07-.08a2.4,2.4,0,0,0,.21-.23l.1-.12a2,2,0,0,0,.2-.31l0-.06a.57.57,0,0,0,0-.53c0-.06-.54-1.29-.6-1.42-.13-.32-.3-.46-.54-.46h-.1a3.07,3.07,0,0,0-1,.26,2.09,2.09,0,0,0-.79,1.8,3.89,3.89,0,0,0,.84,2.13l0,.05a7.86,7.86,0,0,0,3.38,2.94,5.47,5.47,0,0,0,2.05.52h0l.33,0h.06A2.16,2.16,0,0,0,14,12.77a1.68,1.68,0,0,0,.1-1.11A.78.78,0,0,0,13.76,11.4Z"/>
                        <path fill="white" d="M10.15,1.68A8.15,8.15,0,0,0,2,9.79a8,8,0,0,0,1.12,4.1L1.69,18a.23.23,0,0,0,.06.22.21.21,0,0,0,.15.07H2l4.32-1.37a8.25,8.25,0,0,0,3.87,1,8.11,8.11,0,1,0,0-16.22Zm0,14.53a6.51,6.51,0,0,1-3.56-1.06.28.28,0,0,0-.12,0H6.4l-2.16.69.7-2.06a.24.24,0,0,0,0-.2A6.29,6.29,0,0,1,3.68,9.79a6.47,6.47,0,1,1,6.47,6.42Z"/>
                    </svg>
                    <!-- <svg xmlns="http://www.w3.org/2000/svg"  width="20" height="20" viewBox="0 0 24 24">
                        <path [ngStyle]="{'fill': g.themeForegroundColor}" d="M13.92,11.22s-1.22-.6-1.44-.68a.76.76,0,0,0-.27-.06.46.46,0,0,0-.4.24c-.12.17-.48.59-.59.72l-.05,0-.25-.1A6.22,6.22,0,0,1,8.54,9.26l0,0s.05-.06.07-.09l.2-.23.1-.11a1.36,1.36,0,0,0,.19-.31l0-.05a.54.54,0,0,0,0-.52c0-.06-.53-1.27-.58-1.4-.13-.31-.3-.45-.54-.45H7.88a3,3,0,0,0-1,.26,2.08,2.08,0,0,0-.77,1.76A3.78,3.78,0,0,0,7,10.17a.09.09,0,0,0,0,.05,7.81,7.81,0,0,0,3.33,2.89,5.37,5.37,0,0,0,2,.51h0l.32,0h.06a2.13,2.13,0,0,0,1.48-1,1.7,1.7,0,0,0,.09-1.08A.72.72,0,0,0,13.92,11.22Z" transform="translate(-1.83 -1.83)"/>
                        <path [ngStyle]="{'fill': g.themeForegroundColor}" d="M10.14,1.83a8,8,0,0,0-8,8,7.86,7.86,0,0,0,1.1,4L1.85,17.89a.19.19,0,0,0,0,.21.21.21,0,0,0,.15.07h.06l4.24-1.35a8,8,0,0,0,11.82-7A8,8,0,0,0,10.14,1.83Zm0,14.27a6.37,6.37,0,0,1-3.49-1,.19.19,0,0,0-.12,0H6.47l-2.12.68.68-2a.22.22,0,0,0,0-.19A6.22,6.22,0,0,1,3.79,9.8a6.36,6.36,0,1,1,6.35,6.3Z" transform="translate(-1.83 -1.83)"/>
                    </svg> -->
                  </span>
                <div class="clear"></div>
            </button>
        </div>
    </div>

    <!-- FOOTER -->
    <div class="c21-footer fade-in-bottom-footer">
        <div id="c21-powered-by" (mouseover)="hover=true" (mouseleave)="hover=false">
            <div tabindex="-1" class="c21-powered-by" [innerHTML]="g.poweredBy"></div>
            <!-- <div class="build_version">{{g.BUILD_VERSION}}</div> -->
        </div>
        <chat-menu-options *ngIf="!hideSettings"
            [isHover]="hover"
            (onSignOut)="onSignOutFN()">
        </chat-menu-options>
    </div>

</div>
